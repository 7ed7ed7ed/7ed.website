/* Base (pure white background; no outlines) */
html, body {
  margin: 0; padding: 0;
  height: 100%; width: 100%;
  background: #fff; color: #000;
  font-family: Helvetica, "Helvetica Neue", Arial, sans-serif;
  overflow-x: hidden;
}

.stage {
  position: relative;
  width: 100%;
  height: 100vh;
  background: #000;
  overflow: hidden;
}

/* Intro video */
#introVideo{
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: contain; background: transparent; z-index: 1;
}
/* smooth background fade when we switch colors in JS */
html, body, .stage, #introVideo {
  transition: background-color .6s ease;
}
#introVideo.fadeOut { opacity: 0; transition: opacity .6s ease; }

/* Menu overlay pinned to the media rect via JS */
.menu{
  position: fixed; opacity: 0; pointer-events: none;
  transition: opacity .6s ease; z-index: 2;
}
.menu.show { opacity: 1; pointer-events: auto; }

/* Menu items (text or SVG) positioned by % */
.menu-item{
  position: absolute;
  transform: translate(-50%, -50%);
  display: inline-block;
  text-decoration: none;
  cursor: pointer;
  line-height: 1;
  color: #000;
  font-weight: 800;
  font-size: clamp(18px, 3.2vw, 64px); /* default for TEXT items */
  user-select: none;
  transition: transform .15s ease;
}
.menu-item:hover{ transform: translate(-50%, -50%) scale(1.03); }

/* SVG items */
.menu-item.svg { font-size: 0; color: #000; } /* size comes from svg width */
.menu-item.svg svg { display: block; width: clamp(40px, 7vw, 160px); height: auto; }

/* Dev Align Mode (press D) */
.menu.dev{ outline: 1px dashed rgba(0,0,0,.25); }
.menu.dev::before{
  content: ""; position: absolute; inset: 0; pointer-events: none;
  background:
    linear-gradient(to right, rgba(0,0,0,.06) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0,0,0,.06) 1px, transparent 1px);
  background-size: 5% 5%;
}
.dev-tip{
  position: fixed; z-index: 9999; pointer-events: none;
  padding: 4px 8px; border-radius: 6px; background: rgba(0,0,0,.7);
  color: #fff; font-size: 12px; transform: translate(-50%, -120%); white-space: nowrap;
}
/* === add near the bottom of your CSS === */
body.intro-dark,
body.intro-dark .stage,
body.intro-dark #introVideo { background: #000; }

body.intro-light,
body.intro-light .stage,
body.intro-light #introVideo { background: #fff; }

body.intro-light .stage {outline: 4px solid #fff}

/* smooth fades */
html, body, .stage, #introVideo { transition: background-color .6s ease; }


@media (prefers-reduced-motion: reduce){
  .menu, .menu-item{ transition: none; }
}
/* In Dev Mode, show which item is selected */
body.dev .menu-item.dev-selected {
  outline: 2px solid rgba(0,0,0,.6);
  outline-offset: 4px;
}

/* keep layers tidy */
.stage { position: relative; }
#introVideo { z-index: 0; will-change: opacity; background:#000; }
.menu { z-index: 10; }

/* after reveal, make the video non-interactive and invisible (but we don't unload it) */
#introVideo.is-hidden {
  opacity: 0 !important;
  visibility: hidden;
  pointer-events: none;
}

/* ===== INTRO BASICS ===== */
html, body {
  margin: 0; padding: 0;
  height: 100%; width: 100%;
  background: #fff; color: #000;
  font-family: Helvetica, "Helvetica Neue", Arial, sans-serif;
  overflow-x: hidden;
}

/* dark vs light backdrop while intro runs */
body.intro-dark,
body.intro-dark .stage,
body.intro-dark #introVideo { background: #000; }

body.intro-light,
body.intro-light .stage,
body.intro-light #introVideo { background: #fff; }

/* the stage (video container) */
.stage { position: relative; width: 100%; height: 100vh; background: #000; overflow: hidden; }
#introVideo { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: contain; z-index: 0; background:#000; }

/* menu overlay we pin to the video rect */
.menu { position: fixed; opacity: 0; pointer-events: none; z-index: 10; }
.menu.show { opacity: 1; pointer-events: auto; }

/* menu items */
.menu-item {
  position: absolute; transform: translate(-50%, -50%);
  display: inline-block; text-decoration: none; cursor: pointer; user-select: none;
  color: #000; font-weight: 800; font-size: clamp(18px, 3.2vw, 64px);
}
.menu-item.svg { font-size: 0; }
.menu-item.svg svg { display: block; width: clamp(40px, 7vw, 160px); height: auto; }

/* hide the video instantly once we reveal (no fade) */
#introVideo.is-hidden { opacity: 0; visibility: hidden; pointer-events: none; }

/* ===== MUSIC BAR (keeps page content below it) ===== */
body { padding-top: 36px; }
#music-bar {
  position: fixed; inset: 0 0 auto 0; height: 36px; z-index: 9999;
  background: #fff; color: #000; border-bottom: 1px solid #000;
  font: 14px/36px system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}
#music-bar .mb-inner {
  display: grid; grid-template-columns: 40px 1fr 120px;
  align-items: center; gap: 8px; height: 100%; padding: 0 8px;
}
#mb-play { 
  width: 28px; height: 28px; border:1px solid #000; background:#fff; 
  display:inline-flex; align-items:center; justify-content:center; 
  cursor:pointer; border-radius:4px; font-size:14px; line-height:1;
}
#mb-play:active { transform: translateY(1px); }
#music-bar .mb-title { overflow:hidden; white-space:nowrap; }
#music-bar #mb-track { display:inline-block; padding-left:2px; animation: marquee 18s linear infinite; }
@keyframes marquee { from{ transform: translateX(0);} to { transform: translateX(-50%);} }
#mb-viz { width: 100%; height: 8px; }

